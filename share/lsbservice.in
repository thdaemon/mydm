#!/bin/bash
#
# THIS FILE IS GENERATED BY mydm-service-install SCRIPT.
#
### BEGIN INIT INFO
# Provides: mydm
# Required-Start: $local_fs $remote_fs x11-common
# Required-Stop: $local_fs $remote_fs
# Default-Start: 5
# Default-Stop: 0 1 2 3 4 6
# Description: Mydm Display Manager service (generated by script)
### END INIT INFO

PATH=/sbin:/bin:/usr/sbin:/usr/bin

PIDFILE=/var/run/mydm.pid
DAEMON=/usr/bin/mydm

test -x $DAEMON || exit 1

if [ -r /etc/default/locale ]; then
	. /etc/default/locale
	export LANG LANGUAGE
fi

. /lib/lsb/init-functions

case $1 in
start)
	log_daemon_msg "Starting Mydm Display Manager" mydm
	start-stop-daemon --start --quiet --pidfile "$PIDFILE" --name mydm --exec "$DAEMON" -- -D -S -p "$PIDFILE" -d __INFILE__display -v __INFILE__vt -u __INFILE__user -n -c __INFILE__greeter -g -- -novtswitch
	log_end_msg $?
	;;
stop)
	log_daemon_msg "Stoping Mydm Display Manager" mydm
	start-stop-daemon --stop --quiet --pidfile "$PIDFILE" --name mydm --retry TERM/5
	log_end_msg $?
	;;
status)
	status_of_proc -p "$PIDFILE" "$DAEMON" mydm
	exit $?
	;;
restart|force-reload)
	$1 stop
	sleep 2
	$2 start
	;;
*)
	echo "Usage: "$0" {start|stop|restart|force-reload|status}"
	;;
esac

exit 0
